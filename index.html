
<!DOCTYPE html>
<html ng-app="NearMeApp">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="js/vendor/jquery-ui/themes/smoothness/jquery-ui.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet" />
    <link rel="stylesheet" href="js/vendor/angular-ui-utils/ui-layout.css">
    <link rel="stylesheet" href="css/angular-ui-tree.min.css">
    <link rel="stylesheet" href="css/treeview.css">
    <link rel="stylesheet" href="js/vendor/leaflet.awesome-marker/leaflet.awesome-markers.css">
    <link rel="stylesheet" href="css/font-awesome/font-awesome.min.css">
    <link rel="stylesheet" href="css/leaflet.css" />
    <link href="css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="js/vendor/cluster/MarkerCluster.css" />
    <link rel="stylesheet" href="js/vendor/Leaflet.Photo/Leaflet.Photo.css" />
    <link rel="stylesheet" href="js/vendor/leaflet/leaflet.elevation-0.0.4.css" />
    <link rel="stylesheet" href="css/map.css" />

    <script src="js/vendor/angular.min.js"></script>
    <script src="js/vendor/angular-ui-utils/angular-animate.js"></script>
    <script src="js/vendor/bootstrap/ui-bootstrap-tpls-0.13.4.js"></script>		
    <script type="application/javascript" src="js/vendor/angular-ui-utils/ui-layout.js"></script>
    <script src="js/vendor/angular-ui-tree203.js"></script>
    <script src="js/vendor/angular-ui-utils/highlight.min.js"></script>
    <script src="js/vendor/angular-ui-tree-filter.js"></script>
    <script src="js/vendor/d3.v3.min.js"></script>

    <script src="js/vendor/leaflet/leaflet-src.js"></script>
    <script src="js/vendor/leaflet.awesome-marker/leaflet.awesome-markers.js"></script>
    <script src="js/vendor/leaflet/leaflet-omnivore.js"></script>
    <script src="js/vendor/leaflet/leaflet.elevation-0.0.4.min.js"></script>
    <script src="js/vendor/topojson/topojson.js"></script>
    <script src="js/vendor/leaflet/gpx.js"></script>
    
    <script src="js/vendor/google/google.js"></script>

    <script src="js/vendor/angular-leaflet-directive.min.js"></script>

    <script src="js/vendor/jquery-1.9.0.js"></script>
    <script src="js/vendor/jquery-ui/jquery-ui.js"></script>

    <script src="js/app.js"></script>
    <script src="js/controllers/MainController2.js"></script>    
    <script src = 'js/vendor/helpers.js'></script>
    <script src= 'js/services/places.js'></script>
    <script src = 'js/vendor/togeojson.js'></script>

    <script type="text/javascript" src="js/vendor/google/jsapi.js"></script>
    <script type="text/javascript" src="js/vendor/google/js?sensor=false&amp;v=3.7"></script>
    <script type="text/javascript" src="js/vendor/google/geoxml3.js"></script>
    <script type="text/javascript" src="js/vendor/google/ProjectedOverlay.js"></script>

    <script src= 'js/profileLeaflet.js'></script>

    <script src= 'js/photo.js'></script>
    <script src= 'js/vendor/reqwest.min.js'></script>
    <script src= 'js/vendor/cluster/leaflet.markercluster.js'></script>
    <script src= 'js/vendor/Leaflet.Photo/Leaflet.Photo.js'></script>
		
  </head>

  <body ng-controller="MainController" ng-init="dim=true; highlight=true">
		
		<!--<div class="header">
      <div class="container-fluid">
        <h1 class="pull-left">deMaps</h1>
      </div>
		</div>-->
		
    <div ui-layout  >      
      <div ui-layout-container> 
        <div ui-layout="{flow : 'column'}" >
          <div ui-layout-container size="200px" class=" html-back1" >
						<div class="accord">
							<accordion close-others="oneAtATime">
								<accordion-group heading="Coordinate" panel-class="panel-danger">
									<ul>
											<li>Latitude<input class="form-control" type="number" step="any" ng-model="mapCenter.lat" /> </li>
											<li>Longitude<input class="form-control" type="number" step="any" ng-model="mapCenter.lng" /> </li>
											<li>Zoom<input class="form-control" type="number" step="any" ng-model="mapCenter.zoom" /> </li>
									</ul>
									Search Address
									<ul>
											<li><input class="form-control" type="string" step="any" ng-model="address.name" /></li>
									</ul>
                                      <a href="" class="btn btn-primary pull-left"  ng-click="search()">Search</a>
                                      <a href="" class="btn btn-primary pull-left"  ng-click="clearMarker()">Clear</a>
                                  <br/>
                                  <br/>
                                  <div class="input-group">
                                        <a href="" class="btn btn-primary pull-left"  ng-click="addToMongoDb()">Add Db</a>                
                                      <div >
                                        <label>
                                          <input type="radio" ng-model="location.type" name="optradio" value="2. Cime">
                                          Cime
                                        </label><br/>
                                        <label>
                                          <input type="radio" ng-model="location.type" name="optradio" value="1. Rifugi">
                                          Rifugi
                                        </label><br/>
                                        <label>
                                          <input type="radio" ng-model="location.type" name="optradio" value="3. Alpeggi">
                                          Alpeggi
                                        </label><br/>                                                
                                        <label>
                                          <input type="radio" ng-model="location.type" name="optradio" value="4. Valli">
                                          Valli   
                                        </label><br/>                                                
                                      </div>
                                  </div>
										<div class="container">
											<div class="row">
												<div class="col-md-12">
														<div class="row" >
															<div class="col-lg-6">
																<!-- Nested list template -->
																<script type="text/ng-template" id="items_renderer1.html">
																	<div ui-tree-handle>
																		<a class="btn btn-success btn-xs" data-nodrag ng-click="toggle(this)"><span class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></span></a>
                                                                         
																		<a data-nodrag >{{item.properties.name}}</a>
																		<small>{{item.properties.city}}</small>
																		<small>{{item.properties.country}}</small>
																		<small>{{item.properties.state}}</small>
																		<a class="{{item.geometry.coordinates}}" data-nodrag ng-click='changeLocation(item.geometry.coordinates)'>
																			<span class="glyphicon">
																				View
																			</span>
																		</a>
																	</div>
																	<ol ui-tree-nodes="options" ng-model="item.items" ng-class="{hidden: collapsed}" >
																		<li ng-repeat="item in item.items" ui-tree-node ng-include="'items_renderer.html'" data-nodrag collapsed="true" ng-hide="!treeFilter(item, pattern, supportedFields) && dim" ng-class="{'filtered-out':!treeFilter(item, pattern, supportedFields) && !dim}">
																		</li>
																	</ol>
																</script>
																<div ui-tree="options" id="tree-root-search">
																	<ol ui-tree-nodes ng-model="listSearch" >
																		<li ng-repeat="item in listSearch" ui-tree-node collapsed="true" ng-include="'items_renderer1.html'"
																			ng-hide="!treeFilter(item, pattern, supportedFields) && dim"
																			ng-class="{'filtered-out':!treeFilter(item, pattern, supportedFields) && !dim}">
																		</li>
																	</ol>
																</div>
															</div>
														</div>
													</div>
											 </div>
										</div>																						                                    
                                </accordion-group>
								<accordion-group is-open="status.open">
									<accordion-heading>Direct locations</i>
									</accordion-heading>
										<div class="col-md-6">
											<a href="" class="btn btn-default pull-right" ng-click="collapseAll()">Collapse all</a>
											<a href="" class="btn btn-default pull-right" ng-click="expandAll()">Expand all</a>			
											<a href="" class="btn btn-default pull-right" ng-click="refreshTree()">Refresh</a>			
												<div class="input-group input-group-lg">
														<span class="input-group-addon">Filter</span>
														<input type="search" class="form-control" placeholder="Type a part of any nodes name..."  ng-model="pattern">
												</div>
										</div>
										<div class="container">
											<div class="row">
												<div class="col-md-12">
														<div class="row" >
															<div class="col-lg-6">
																<!-- Nested list template -->
																<script type="text/ng-template" id="items_renderer.html">
																	<div ui-tree-handle>
																		<a class="btn btn-success btn-xs" data-nodrag ng-click="toggle(this)"><span class="glyphicon" ng-class="{'glyphicon-chevron-right': collapsed, 'glyphicon-chevron-down': !collapsed}"></span></a>
																		<a data-nodrag href="{{item.url}}">{{item.title}}</a>
																		<small class ="pull-right">{{item.description}}</small>
																		<small>{{item.info}}</small>
                                                                        <small>{{item.value}}</small>
																		<a class="{{item.viewCoord}}" data-nodrag ng-click='changeLocation(item.coord)'>
																			<span class="glyphicon">
																				View
																			</span>
																		</a>
																		<input id="chk{{item.description}}" type="checkbox" data-toggle="toggle" class="{{item.viewGps}}" data-nodrag ng-click='viewTrack("chk" + item.description + ":" + item.gpsFile )'>
																	</div>
																	<ol ui-tree-nodes="options" ng-model="item.items" ng-class="{hidden: collapsed}" >
																		<li ng-repeat="item in item.items" ui-tree-node ng-include="'items_renderer.html'" data-nodrag collapsed="true" ng-hide="!treeFilter(item, pattern, supportedFields) && dim" ng-class="{'filtered-out':!treeFilter(item, pattern, supportedFields) && !dim}">
																		</li>
																	</ol>
																</script>
																<div ui-tree="options" id="tree-root">
																	<ol ui-tree-nodes ng-model="list" >
																		<li ng-repeat="item in list" ui-tree-node collapsed="true" ng-include="'items_renderer.html'"
																			ng-hide="!treeFilter(item, pattern, supportedFields) && dim"
																			ng-class="{'filtered-out':!treeFilter(item, pattern, supportedFields) && !dim}">
																		</li>
																	</ol>
																</div>
															</div>
														</div>
													</div>
											 </div>
										</div>																								
								</accordion-group>
							</accordion>
						</div>																		
					</div>
          <div ui-layout-container class=" js-back" >
						<div id="tabs">
							<ul>
								<li><a href="#tabs-1">Mappe</a></li>
								<li><a href="#tabs-2">Profili</a></li>
								<li><a href="#tabs-3">Photo</a></li>
							</ul>
							<div id="tabs-1">
								<div id="mappe">
									<div class="container-fluid" id="map-canvas">
										<leaflet center="mapCenter" layers="layers" markers="mapMarkers" />
									</div>
								</div>	
							</div>
							<div id="tabs-2" class="gpx">
                              <header>
                                <h3>Loading...</h3>
                                <span class="start"></span>
                              </header>

                              <article>
                                <div class="map container-fluid" id="map_profile"></div>
                              </article>

                              <footer>
                                <ul class="info">
                                  <li>Distance:&nbsp;<span class="distance"></span>&nbsp;m</li>
                                  &mdash; <li>Duration:&nbsp;<span class="duration"></span></li>
                                  &mdash; <li>Pace:&nbsp;<span class="pace"></span>/m</li>
                                  &mdash; <li>Avg&nbsp;HR:&nbsp;<span class="avghr"></span>&nbsp;bpm</li>
                                  &mdash; <li>Elevation:&nbsp;+<span class="elevation-gain"></span>&nbsp;m,
                                    -<span class="elevation-loss"></span>&nbsp;m
                                    (net:&nbsp;<span class="elevation-net"></span>&nbsp;m)</li>
                                </ul>
                              </footer>
							</div>
							<div id="tabs-3">
									<div id="map_canvas_photo">
									</div>
							</div>
						</div>						
					</div>
        </div>
      </div>    
    </div>
	</body>
</html>